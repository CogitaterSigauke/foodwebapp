{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\foodwebapp\\\\foodweb_frontend\\\\my-recipes\\\\src\\\\Components\\\\ProfileComponents\\\\Login.js\";\nimport React, { useState } from 'react';\nimport GoogleLogin from \"react-google-login\"; // import './bootstrap.min.css'\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../../App.css';\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login() {\n  const [errors, setErrors] = useState(\"\");\n  const history = useHistory();\n\n  const handleGoogleResponse = res => {\n    console.log(res.profileObj);\n    const userData = {\n      name: res.profileObj.name,\n      email: res.profileObj.email,\n      token: `Bearer ${res.tokenId}`\n    };\n    axios.post('/signup', userData).then(response => {\n      console.log('======response======');\n      console.log(response);\n      console.log('======response.data======');\n      console.log(response.data);\n      localStorage.setItem('loggedin', true);\n      console.log(response);\n      history.push('/');\n      window.location.reload(false);\n      localStorage.setItem(\"username\", response.data.name);\n      localStorage.setItem(\"email\", response.data.email);\n      localStorage.setItem(\"totalNumCorrectAttemps\", response.data.totalNumCorrectAttemps);\n      localStorage.setItem(\"id\", response.data.id);\n    }).catch(err => {\n      console.log(`======response.data=====`);\n      setErrors(err.response.data);\n      console.log(`Errors: {errors}`);\n    }).catch(err => {\n      setErrors(err.response.data);\n      console.log(`Errors: {errors}`);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card align-items-center cad-n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"card-img-top\",\n    src: require('./img/no-img.png'),\n    alt: \"Card image cap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Sign in with your social media account \"), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"181796502496-d4n1skjr6tq9trd0mp0dp3gdlaasm3hp.apps.googleusercontent.com\",\n    buttonText: \"Sign in with Google\",\n    scope: \"profile email\",\n    width: \"240\",\n    height: \"50\",\n    longtitle: \"true\",\n    theme: \"dark\",\n    onSuccess: handleGoogleResponse,\n    onFailure: handleGoogleResponse,\n    cookiePolicy: \"single_host_origin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-items-center cad-n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), \"dont have an account ? \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 32\n    }\n  }), \"Sign up to \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/SignUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 20\n    }\n  }, \" create account\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), errors.general && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, errors.general)));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/user/Desktop/foodwebapp/foodweb_frontend/my-recipes/src/Components/ProfileComponents/Login.js"],"names":["React","useState","GoogleLogin","axios","Link","useHistory","Login","errors","setErrors","history","handleGoogleResponse","res","console","log","profileObj","userData","name","email","token","tokenId","post","then","response","data","localStorage","setItem","push","window","location","reload","totalNumCorrectAttemps","id","catch","err","require","general"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport GoogleLogin from \"react-google-login\";\r\n// import './bootstrap.min.css'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../App.css';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nfunction Login() {\r\n\r\n  const [errors, setErrors] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  \r\n  const handleGoogleResponse = (res) => {\r\n    console.log(res.profileObj);\r\n\r\n    const userData = {\r\n      name: res.profileObj.name,\r\n      email: res.profileObj.email,\r\n      token: `Bearer ${res.tokenId}`\r\n    }\r\n\r\n    axios.post('/signup', userData)\r\n      .then(response => {\r\n\r\n        console.log('======response======');\r\n        console.log(response);\r\n\r\n        console.log('======response.data======');\r\n        console.log(response.data);\r\n        localStorage.setItem('loggedin', true);\r\n        console.log(response);\r\n        history.push('/');\r\n        window.location.reload(false); \r\n       \r\n        localStorage.setItem(\"username\", response.data.name);\r\n        localStorage.setItem(\"email\", response.data.email);\r\n        localStorage.setItem(\"totalNumCorrectAttemps\", response.data.totalNumCorrectAttemps);\r\n        localStorage.setItem(\"id\", response.data.id);\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(`======response.data=====`);\r\n          setErrors(err.response.data);\r\n          console.log(`Errors: {errors}`);\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n\r\n        setErrors(err.response.data);\r\n        console.log(`Errors: {errors}`);\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"Login\">\r\n\r\n      <div className=\"card align-items-center cad-n\">\r\n        <img className=\"card-img-top\" src={require('./img/no-img.png')} alt=\"Card image cap\"/>\r\n          <form>\r\n\r\n            <p>Sign in with your social media account </p>\r\n            <GoogleLogin\r\n\r\n              clientId=\"181796502496-d4n1skjr6tq9trd0mp0dp3gdlaasm3hp.apps.googleusercontent.com\"\r\n              buttonText=\"Sign in with Google\"\r\n              scope='profile email'\r\n              width='240'\r\n              height='50'\r\n              longtitle='true'\r\n              theme='dark'\r\n \r\n              onSuccess={handleGoogleResponse}\r\n              onFailure={handleGoogleResponse}\r\n              cookiePolicy={\"single_host_origin\"}\r\n          />\r\n\r\n\r\n          </form>\r\n      </div>  \r\n      \r\n      <div className=\"align-items-center cad-n\">\r\n\r\n        <br />\r\n        dont have an account ? <br />\r\n        Sign up to <Link to=\"/SignUp\"> create account</Link>\r\n         <br />\r\n        <br />\r\n        {errors.general && (\r\n          <p>\r\n            {errors.general}\r\n          </p>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n\r\n  \r\n  );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}