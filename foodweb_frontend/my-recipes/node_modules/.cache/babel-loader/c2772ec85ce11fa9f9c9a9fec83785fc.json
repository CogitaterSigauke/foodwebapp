{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\foodwebapp\\\\foodweb_frontend\\\\my-recipes\\\\src\\\\Components\\\\ProfileComponents\\\\SignUp.js\";\nimport React, { useState } from 'react';\nimport GoogleLogin from \"react-google-login\"; // import './bootstrap.min.css'\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../../App.css';\nimport { useHistory } from \"react-router-dom\";\n\nfunction SignUp() {\n  const [errors, setErrors] = useState(\"\");\n  const history = useHistory();\n\n  const handleGoogleResponse = res => {\n    console.log(res.profileObj);\n    const userData = {\n      name: res.profileObj.name,\n      email: res.profileObj.email,\n      familyName: res.profileObj.familyName,\n      pictureUrl: res.profileObj.imageUrl\n    };\n    const tokenId = `Bearer ${res.tokenId}`;\n    console.log(\"=========tokenId===========\");\n    console.log(tokenId);\n    localStorage.setItem('tokenId', tokenId); // axios.defaults.headers.common['Authorization'] = tokenId;\n\n    axios.post('/signup', userData).then(response => {\n      console.log('======response======');\n      console.log(response);\n      console.log('======response.data======');\n      console.log(response.data);\n      localStorage.setItem('loggedin', true);\n      localStorage.setItem('userCredentials', response.data);\n      console.log(\"====================\");\n      history.push('/');\n      window.location.reload(false);\n    }).catch(err => {\n      setErrors(err.response.data);\n      console.log(`Errors: {errors}`);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SignUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card align-items-center cad-n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"card-img-top\",\n    src: require('./img/no-img.png'),\n    alt: \"Card image cap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Sign up with your social media account \"), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"181796502496-d4n1skjr6tq9trd0mp0dp3gdlaasm3hp.apps.googleusercontent.com\",\n    buttonText: \"Sign up with Google\",\n    scope: \"profile email\",\n    width: \"240\",\n    height: \"50\",\n    longtitle: \"true\",\n    theme: \"dark\",\n    onSuccess: handleGoogleResponse,\n    onFailure: handleGoogleResponse,\n    cookiePolicy: \"single_host_origin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-items-center cad-n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }), \"already have an account ? \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 31\n    }\n  }), \"Sign in \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \" here\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }), errors.general && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, errors.general)));\n}\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/user/Desktop/foodwebapp/foodweb_frontend/my-recipes/src/Components/ProfileComponents/SignUp.js"],"names":["React","useState","GoogleLogin","axios","Link","useHistory","SignUp","errors","setErrors","history","handleGoogleResponse","res","console","log","profileObj","userData","name","email","familyName","pictureUrl","imageUrl","tokenId","localStorage","setItem","post","then","response","data","push","window","location","reload","catch","err","require","general"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport GoogleLogin from \"react-google-login\";\r\n// import './bootstrap.min.css'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../App.css';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nfunction SignUp() {\r\n\r\n  const [errors,setErrors] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n\r\n  const handleGoogleResponse = (res) => {\r\n      console.log(res.profileObj);\r\n      \r\n      const userData = {\r\n        name: res.profileObj.name,\r\n        email: res.profileObj.email,\r\n        familyName: res.profileObj.familyName,\r\n        pictureUrl: res.profileObj.imageUrl\r\n\r\n      }\r\n\r\n      const tokenId = `Bearer ${res.tokenId}`;\r\n      console.log(\"=========tokenId===========\");\r\n      console.log(tokenId);\r\n      \r\n      localStorage.setItem('tokenId', tokenId);\r\n      // axios.defaults.headers.common['Authorization'] = tokenId;\r\n\r\n      axios.post('/signup', userData)\r\n      .then(response => {\r\n\r\n        console.log('======response======');\r\n        console.log(response);\r\n\r\n        console.log('======response.data======');\r\n        console.log(response.data);\r\n        localStorage.setItem('loggedin', true);\r\n        localStorage.setItem('userCredentials', response.data);\r\n        console.log(\"====================\");\r\n         \r\n        history.push('/');\r\n        window.location.reload(false); \r\n      })\r\n      .catch((err) => {\r\n        \r\n          setErrors(err.response.data);\r\n          console.log(`Errors: {errors}`);\r\n\r\n      });\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"SignUp\">\r\n\r\n    <div className=\"card align-items-center cad-n\">\r\n    <img className=\"card-img-top\" src={require('./img/no-img.png')} alt=\"Card image cap\"/>\r\n    \r\n      <form>\r\n\r\n      <p>Sign up with your social media account </p>\r\n      <GoogleLogin\r\n\r\n      clientId=\"181796502496-d4n1skjr6tq9trd0mp0dp3gdlaasm3hp.apps.googleusercontent.com\"\r\n      buttonText=\"Sign up with Google\"\r\n      scope='profile email'\r\n      width='240'\r\n      height='50'\r\n      longtitle='true'\r\n      theme='dark'\r\n\r\n      onSuccess={handleGoogleResponse}\r\n      onFailure={handleGoogleResponse}\r\n      cookiePolicy={\"single_host_origin\"}\r\n      />\r\n\r\n\r\n      </form>\r\n      \r\n    </div>\r\n    <div className=\"align-items-center cad-n\">\r\n    <br />\r\n    already have an account ? <br /> \r\n    Sign in <Link to=\"/Login\"> here</Link>\r\n    <br />\r\n    <br />\r\n    {errors.general && (\r\n          <p>\r\n            {errors.general}\r\n          </p>\r\n      )}\r\n    </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}